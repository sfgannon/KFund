<div class="pure-g pure-form pure-form-stacked">
    <div class="pure-u-1">
        <a class="pure-button button-plain" id="btnHome" ui-sref="home">Home</a>
    </div>
</div>
<div class="pure-form pure-form-stacked">
    <div class="pure-g">
        <div class="pure-u-1">
            <h3>Obligation</h3>
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1">
            <a class="pure-button pure-button-primary" id="btnEdit" ui-sref="EditObligation({ id: Obligation.Id })">Edit Obligation Info</a>
            <a class="pure-button button-error" ui-sref="Delete({ id: Obligation.Id })" >Delete Obligation </a>
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1-3">
            <label for="inpNumber">Obligation Number</label>
            <input type="text" id="inpNumber" ng-model="Obligation.ObligationNumber" ng-readonly="true">
        </div>
        <div class="pure-u-1-3">
            <label for="inpAmount">Amount</label>
            <input type="text" ng-input-currency  id="inpAmount" ng-model="Obligation.Amount" ng-readonly="true" />
        </div>
        <div class="pure-u-1-3" ng-show="Obligation.OperatingAllowance == 100710 && Obligation.Allotment == '1007'">
            <label>Restricted Funds</label>
            <input type="text" ng-input-currency  id="inpRestrictedFunds" ng-model="Obligation.RestrictedFunds" ng-readonly="true" />
        </div>
    </div>
    <div class="pure-g" ng-show="Obligation.OperatingAllowance == 100710 && Obligation.Allotment == '1007'">
        <div class="pure-u-1-3">
            <label>Rewards Publicity</label>
            <input type="checkbox" ng-model="Obligation.RewardsPublicity" id="chkRewardsPublicity" ng-readonly="true" ng-disabled="true" />
        </div>
        <div class="pure-u-1-2">
            <label>Rewards Program</label>
            <input id="selRewardsProgram" ng-model="Obligation.RewardsProgram" type="text" ng-readonly="true" />
            </select>
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1-2">
            <label for="inpDate">Date</label>
            <input type="date" id="inpDate" ng-model="Obligation.Date" ng-readonly="true" />
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1">
            <label for="inpPurpose">Purpose</label>
            <input type="text" style="width:60%;" ng-readonly="true" ng-model="Obligation.Purpose" id="inpPurpose" />
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1">
            <label for="inpDescription">Description</label>
            <textarea rows="6" cols="60" type="text" ng-readonly="true" ng-model="Obligation.Description" id="inpDescription" />
        </div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1-3">
            <label for="inpAppropriation">Appropriation</label>
            <input type="text" id="inpAppropriation" ng-model="Obligation.Appropriation" ng-readonly="true" />
        </div>
        <div class="pure-u-1-3">
            <label for="Allotment">Allotment</label>
            <input id="Allotment" type="text" ng-readonly="true" ng-model="Obligation.Allotment" />
        </div>
    <!--</div>
    <div class="pure-g">-->
        <div class="pure-u-1-3" ng-show="Obligation.Allotment == 1007">
            <label for="inpOperatingAllowance">Operating Allowance</label>
            <input id="inpOperatingAllowance" ng-model="Obligation.OperatingAllowance" type="text" ng-readonly="true" />
        </div>
    <!--</div>
    <div class="pure-g">-->
        <div class="pure-u-1-3" ng-show="Obligation.Allotment == 2003">
            <label for="inpPostCode">Post Code</label>
            <input id="inpPostCode" ng-model="Obligation.PostCode" ng-readonly="true" type="text" />
        </div>
        <div class="pure-u-1-3"></div>
    </div>
    <div class="pure-g">
        <div class="pure-u-1">
            <h3>Attachments</h3>
        </div>
    </div>
    <div class="pure-g padding-row">
		<div class="pure-u-1" ng-show="Obligation.Id"> 
			<input type="file" id="inpFile" file-model="myFile" file-value="fileData" style="cursor:pointer;display:inline-block;" />&nbsp<a class="pure-button button-plain" style="cursor:pointer;display:inline-block;" ng-click="uploadFile()" style="cursor:pointer" ng-disabled="attaching" id="btnAttach" >Attach File</a><br>
		</div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <table class="pure-table pure-table-bordered" id="attachmentsTable">
                <thead><tr><th></th><th>Filename</th></tr></thead>
                <tbody>
					<tr ng-show="Attachments.length == 0">
						<td colspan="2">No Attachments Associated</td>
					</tr>
                    <tr ng-repeat="e in Attachments track by $index">
						<td><a ng-click="removeAttachment(e.FileName)" style="cursor:pointer">Delete Attachment</a></td>
						
						<td><a target="_blank" href="{{e.ServerRelativeUrl}}">{{e.FileName}}</a></td>
					</tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <h3>Reimbursements</h3>
        </div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <a class="pure-button pure-button-primary" id="btnReimbursements" ng-click="manageReimbursements()">Manage Reimbursements</a>
        </div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <table class="pure-table pure-table-bordered" id="reimbursementsTable">
                <thead>
                    <tr>
                        <th>Agreement</th>
                        <th>Purpose</th>
                        <th>Program</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                	<tr ng-show="Reimbursements.length == 0">
                		<td colspan="4">
                			No Reimbursements Associated
                		</td>
                	</tr>

                    <tr ng-repeat="r in Reimbursements track by $index">
                        <td>{{r.Agreement}}</td>
                        <td>{{r.Purpose}}</td>
                        <td>{{r.Program}}</td>
                        <td>{{r.Amount| currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <h3>Payments</h3>
        </div>
    </div>

    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <a class="pure-button pure-button-primary" id="btnPayments" ng-click="managePayments()">Manage Payments</a>
        </div>
    </div>
    <div class="pure-g padding-row">
        <div class="pure-u-1">
            <table class="pure-table pure-table-bordered" id="paymentsTable">
                <thead>
                    <tr>
                        <th></th>
                        <th>Payment Type</th>
                        <th>Purpose</th>
                        <th>Payee</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                	<tr ng-show="Payments.length == 0">
                		<td colspan="5">
                			No Payments Associated
                		</td>
                	</tr>
                    <tr ng-repeat="r in Payments track by $index">
                        <td><a class="pure-button button-plain" ui-sref="ViewPayment({ id: r.Id })">View</a></td>
                        <td>{{r.PaymentType}}</td>
                        <td>{{r.Purpose}}</td>
                        <td>{{r.Payee}}</td>
                        <td>{{r.Amount| currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>